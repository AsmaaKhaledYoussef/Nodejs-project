<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="assets/img/favicon.ico">
<title>Mediumish - A Medium style template by WowThemes.net</title>
<!-- Bootstrap core CSS -->
<link href="assets/css/bootstrap.min.css" rel="stylesheet">
<!-- Fonts -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Righteous" rel="stylesheet">
<!-- Custom styles for this template -->
<link href="assets/css/mediumish.css" rel="stylesheet">
</head>
<body onload="getAll()">

<!-- Begin Nav
================================================== -->
<nav class="navbar navbar-toggleable-md navbar-light bg-white fixed-top mediumnavigation">
<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="container">
	<!-- Begin Logo -->
	<a class="navbar-brand" href="index.html">
	<img src="assets/img/logo.png" alt="logo">
	</a>
	<!-- End Logo -->
	<div class="collapse navbar-collapse" id="navbarsExampleDefault">
		<!-- Begin Menu -->
		<ul class="navbar-nav ml-auto">
			<li class="nav-item active">
			<a class="nav-link" href="home.html">Stories <span class="sr-only">(current)</span></a>
			</li>
			<li class="nav-item">
			<a class="nav-link" href="Login.html">Login</a>
			</li>
			<li class="nav-item">
			<a class="nav-link" href="index.html">Register</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="author.html">Author</a>
				</li>
		</ul>
		<!-- End Menu -->
		<!-- Begin Search -->
			<input class="form-control mr-sm-2" onkeydown="search()" type="text" placeholder="Search" name="q" id="search" >
			<span class="search-icon"><svg class="svgIcon-use" width="25" height="25" viewbox="0 0 25 25"><path d="M20.067 18.933l-4.157-4.157a6 6 0 1 0-.884.884l4.157 4.157a.624.624 0 1 0 .884-.884zM6.5 11c0-2.62 2.13-4.75 4.75-4.75S16 8.38 16 11s-2.13 4.75-4.75 4.75S6.5 13.62 6.5 11z"></path></svg></span>
		<!-- End Search -->
	</div>
</div>
</nav>
<img src="/" alt="">
<!-- End Nav
================================================== -->

<!-- Begin Site Title
================================================== -->
<div class="container" style="text-align: center;">
	<div class="mainheading">
		<h1 class="sitetitle" style="color:rgb(96, 96, 139)">Bloging website</h1>
		<p class="lead">
			 Bootstrap theme, medium style, simply perfect for bloggers
		</p>
<img src="/Front/uploads/1683994338406-butterfly_PNG1053.png" alt="">
		<!-- <div class="d-grid gap-2">
			<button class="btn btn-primary" type="button">Creat New Article</button>
		  </div> -->
		  <button type="button" class="btn btn-primary btn-lg" >
			<a href="./creat-article.html" style="color: white;">Creat Article</a>
			</button>
	</div>
	
<!-- End Site Title
================================================== -->

	<!-- Begin Featured
	================================================== -->
	<section class="featured-posts">
	<div class="section-title">
		<h2><span>Featured</span></h2>
	</div>
	<div class="card-columns listfeaturedtag">

		<!-- begin post -->
		
			<div class="main-blog" id="blog">
				
						
					
				
			</div>
	
		<!-- end post -->

		

	</div>
	</section>
	<!-- End Featured
	================================================== -->

	<!-- Begin List Posts
	================================================== -->
	
	<!-- End List Posts
	================================================== -->

	<!-- Begin Footer
	================================================== -->
	<div class="footer">
		<p class="pull-left">
			 Copyright &copy; 2017 Your Website Name
		</p>
		<p class="pull-right">
			 Mediumish Theme by <a target="_blank" href="https://www.wowthemes.net">WowThemes.net</a>
		</p>
		<div class="clearfix">
		</div>
	</div>
	<!-- End Footer
	================================================== -->

</div>
<!-- /.container -->

<!-- Bootstrap core JavaScript
    ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script>
	function getAll(){

	
	fetch('http://localhost:8080/direct/show').then(res=>
        {
            res.json().then(data=>
            {
                data.forEach(element => {

                   
                    document.getElementById('blog').innerHTML+=
					` <div class="card" >
			<div class="row" >
		<div class="col-md-5 wrapthumbnail">
			<a href="post.html">
				<div class="thumbnail" style="background-image:url('./uploads/${element.photo}')">
				</div>
			</a>
		</div>
		<div class="col-md-7">
			<div class="card-block">
				<h2 class="card-title"><a href="post.html">${element.title}</a></h2>
				<h4 class="card-text">${element.summary}</h4>
				<div class="metafooter">
					<div class="wrapfooter">
					
						<span class="author-meta">
						<span class="post-name"><a href="author.html">${element.author}</a></span><br/>
						<button type="button" class="btn btn-danger" onclick="delData('${element._id}')">
						Delete	 
							</button>
					</div>
				</div>
			</div>
		</div>
			</div>
					`
         console.log(element.photo);
                });
            })
        })
		
		
	}
		
		function search(){
			let search = document.getElementById('search').value
			fetch('http://localhost:8080/direct/search',{
				method:'post',
				body:JSON.stringify({search}),
				headers: {
      "Content-Type": "application/json",
    }
			}).then(res=>
        {
            res.json().then(data=>
            {
				console.log(data)
                data.forEach(element => {

                   let blogs= document.getElementById('blog')
				   blogs.innerHTML=``
                  blogs.innerHTML =`<div class="card" >
			<div class="row" >
		<div class="col-md-5 wrapthumbnail">
			<a href="post.html">
				<div class="thumbnail" style="background-image:url('./uploads/${element.photo}')">
					
				</div>
			</a>
		</div>
		<div class="col-md-7">
			<div class="card-block">
				<h2 class="card-title"><a href="post.html">${element.title}</a></h2>
				<h4 class="card-text">${element.summary}</h4>
				<div class="metafooter">
					<div class="wrapfooter">
					
						<span class="author-meta">
						<span class="post-name"><a href="author.html">${element.author}</a></span><br/>
						<button type="button" class="btn btn-danger" onclick="delData('${element._id}')">
						Delete	 
							</button>
					</div>
				</div>
			</div>
		</div>
			</div>
					`
         console.log(element.photo);
                });
            })
        })
		if(search==""||search==null){
			getAll()
		}
		}
		function delData(id)
        {
            fetch(`http://localhost:8080/direct/del/${id}`,
            {
                method:'delete'
            })
        }
</script>
<script src="assets/js/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
